---
import { SKILL_CATEGORIES } from '../data/skills';
import SectionHeading from './SectionHeading.astro';
import SkillCategoryCard from './SkillCategoryCard.astro';
import { DEFAULT_LOCALE } from '../i18n/config';
import { useTranslations } from '../i18n/utils';

const locale = Astro.currentLocale ?? DEFAULT_LOCALE;
const t = useTranslations(locale);
---

<section
	id="skills"
	class="relative overflow-hidden border-t border-dashed border-border py-16 sm:py-24"
	aria-labelledby="skills-heading"
>
	<!-- Decorative dot pattern background -->
	<div
		class="pointer-events-none absolute inset-0"
		style="background-image: radial-gradient(var(--color-foreground) 1px, transparent 1px); background-size: 24px 24px; opacity: 0.05;"
		aria-hidden="true"
	>
	</div>
	<SectionHeading
		id="skills-heading"
		title={t('skills.title')}
		subtitle={t('skills.subtitle')}
	/>

	<!-- Bento grid: 1 col mobile, 2 cols desktop, Backend spans full left column -->
	<div class="grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6">
		{
			SKILL_CATEGORIES.map((category, index) => (
				<SkillCategoryCard
					title={category.title}
					icon={category.icon}
					skills={category.skills}
					groups={category.groups}
					class={index === 0 ? 'md:row-span-3' : undefined}
				/>
			))
		}
	</div>
</section>
