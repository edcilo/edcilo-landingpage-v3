---
import { PROJECTS } from '../data/projects';
import SectionHeading from './SectionHeading.astro';
import ProjectCard from './ProjectCard.astro';
import { DEFAULT_LOCALE } from '../i18n/config';
import { useTranslations } from '../i18n/utils';

const locale = Astro.currentLocale ?? DEFAULT_LOCALE;
const t = useTranslations(locale);
---

<section
	id="projects"
	class="border-t border-dashed border-border py-16 sm:py-24"
	aria-labelledby="projects-heading"
>
	<SectionHeading
		id="projects-heading"
		title={t('projects.title')}
		subtitle={t('projects.subtitle')}
	/>

	<!-- Grid: 1 col mobile, 3 cols desktop -->
	<div class="grid grid-cols-1 gap-4 md:grid-cols-3 md:gap-6">
		{
			PROJECTS.map((project) => (
				<ProjectCard
					title={project.title}
					description={t(project.descriptionKey)}
					url={project.url}
					cover={project.cover}
					tech={project.tech}
				/>
			))
		}
	</div>
</section>
